# 불변 객체는 어떻게 활용할까?

## 1. 불변 객체가 무엇일까?

- 변하지 않는 객체 ??
- 변경할 수 없는 객체 ??

변하지 않는 객체 == 변경할 수 없는 객체

<br/>
<br/>

## 2. Side Effect 제거하기 

```kotlin
private val mutableNumbers: MutableList<Int> = mutableListOf(1, 2, 3)
val numbers: List<Int>
    get() = mutableNumbers
```

- 내부에서 변경한 변경점이 외부로 전달됨 (내부 -> 외부) 
- 외부에서 MutableList로 캐스팅해서 값을 변경하면 내부로 전달됨 (외부 -> 내부)

<br/>
<br/>

```kotlin
private val mutableNumbers: MutableList<Int> = mutableListOf(1, 2, 3)
val numbers: List<Int>
    get() = mutableNumbers.toList() // 방어적 복사
```

<br/>
<br/>

## 3. 방어적 복사

- 기존 객체와 똑같은 객체를 만듭니다.
- 같은 객체끼리의 변경이 공유되는 것을 막기 위해 사용됩니다.
- 불변 객체를 만든는 방법이 아닙니다.

```kotlin
val list1 = mutableListOf(1, 2, 3)
val list2 = list1.toList() // 1, 2, 3

list1.add(4)
println(list1) // 1, 2, 3, 4
println(list2) // 1, 2, 3
```

 